<ion-view title="Nearby">

  <ion-nav-buttons side="secondary">
    <button class="button icon icon-refresh" ng-click="search(true)"></button>
  </ion-nav-buttons>

  <ion-content class="has-header">
    <!-- <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="text" placeholder="Location" ng-disabled="position" ng-model="$parent.location">
      </label>
    </div> -->

    <!-- <div class="item list-inset range">
      <div id="distanceLabel" class="input-label">Distance: {{$parent.distance}} mi</div>
      <i class="icon ion-android-walk"></i>
      <input ng-model="$parent.distance" ng-mouseup="search()" type="range" step="0.25" min="0.25" max="5" name="distance">
      <i class="icon ion-android-car"></i>
    </div> -->

    <div class="list list-inset">
      <div class="item item-input">
        <i class="icon icon-search placeholder-icon"></i>
        <input type="text" placeholder="Search" ng-model="$parent.searchText">
        <button id="clearButton" class="button-icon input-button icon-cross placeholder-icon hover padding-right" ng-show="searchText.length > 0" ng-click="clearSearch()"></button>
      </div>

      <div class="item item-input item-select">
        <div class="input-label">
          Category
        </div>
        <select class="expand-select" data-tap-disabled="true" ng-model="selectedCategory" ng-options="category for category in categories | orderBy"></select>
      </div>
    </div>

    <div ng-repeat="event in events" ng-show="([event] | filter:searchText | categoryFilter:selectedCategory | upcomingFilter).length">
      <ng-include src="'templates/eventCard.html'"></ng-include>
    </div>

  </ion-content>
</ion-view>
